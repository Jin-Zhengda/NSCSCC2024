# TLB设计思路文档

## 初识TLB——TLB是什么？
1. TLB即Translation Lookaside Buffer
   1. Translation：执行功能为翻译地址，将虚拟地址翻译成物理地址
   2. Lookaside：顺便看一眼，想找东西时顺便看一眼这里有没有
   3. Buffer：缓存，是用来存数据的
2. TLB是一种地址翻译的模块，将虚拟地址翻译成物理地址，从而能从主存读取指令或数据。
3. TLB在地址翻译任务中的作用不是翻译而是**加速**，让地址翻译任务更快
4. TLB不需要自我更新，只需服从命令。当TLB未命中时，TLB只需反馈信息，怎么处理由操作系统给出指示，TLB只需遵照指示执行对应的写任务即可。(能这样做的原因之一是TLB采取全相联映射？)

## TLB需要实现什么功能？
1. 接收虚拟地址，返回物理地址，若未命中则返回例外(实现连接模块作用)
2. 接收cpu传来的直接读写的命令(实现相关指令)

## 所以其实TLB模块是一个较为固定的模块，由龙芯手册进行定义，按要求去实现对应的要求就好了，没什么优化空间？

## 龙芯TLB模块的特点：
   1. 指令地址翻译与数据地址翻译分开同步进行
   2. 页表奇偶分开查找，双页号
   3. 对TLB表各个部分的定义，比较部分和物理转换部分

## TLB设计思路
- 用两个模块实现，tlb_entry.v和addr_trans.v这两个模块实现对应功能。
- addr_trans是tlb_entry的上层模块。
  - tlb_entry只负责页表查找，即只进行tag位的转换
  - addr_trans负责管理地址转换模块，使用tlb_entry作为转换的一部分，这个模块要实现返回物理地址。
